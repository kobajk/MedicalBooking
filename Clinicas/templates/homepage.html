{% extends "base.html" %}

{% block title %}Login - MedicalBooking{% endblock %}

{% block content %}
<form method="POST" action="{{ url_for('homepage') }}" class="login-form">
    {{ form.csrf_token }}
    <h1 class="login-title">MedicalBooking</h1>
    <p class="login-subtitle">Inicie a sessão para continuar</p>
    
    <div class="input-group">
        {{ form.email(class="form-control", id="email", required=true, placeholder=" ") }}
        <label for="email" class="floating-label">Email</label>
    </div>
    
    <div id="password-field" class="input-group" style="display: none;">
        {{ form.senha(class="form-control", id="senha", required=true, placeholder=" ") }}
        <label for="senha" class="floating-label">Senha</label>
    </div>

    <div class="input-group remember-forgot">
        <label class="remember-label">
            <input type="checkbox" name="remember" id="remember">
            <span>Lembrar</span>
        </label>
        <a href="#" class="forgot-password">Esqueceu a senha?</a>
    </div>
    
    <div class="input-group">
        {{ form.submit(class="custom-submit-button", value="Continuar") }}
    </div>

    <p class="create-account">
        Não tem uma MedicalBooking? <a href="{{ url_for('criar_conta') }}">Crie o seu agora.</a>
    </p>
</form>

<script>
    document.getElementById('email').addEventListener('input', function() {
        var email = this.value;
        var passwordField = document.getElementById('password-field');
        if (email) {
            passwordField.style.display = 'block';
        } else {
            passwordField.style.display = 'none';
        }
    });
</script>
{% endblock %}